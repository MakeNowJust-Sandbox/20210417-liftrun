parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QCba":[function(require,module,exports) {
"use strict";var t,a=document.querySelector("#app"),e=1280,r=720,n=a.getContext("2d"),o=function(t,a,e,r,o){n.strokeStyle=t,n.beginPath(),n.moveTo(a,e),n.lineTo(r,o),n.stroke()},i=function(t,a,e,r,o){n.strokeStyle=t,n.beginPath(),n.rect(a,e,r,o),n.stroke()},s=function(t,a,e,r,o){n.fillStyle=t,n.beginPath(),n.rect(a,e,r,o),n.fill()},l=function(t,a,e,r,o){n.font=o,n.fillStyle=t,n.fillText(r,a,e)},f=50,h=30,c=200,u=10,M=10,x="liftrun-highscore",v=+(null!==(t=localStorage.getItem(x))&&void 0!==t?t:0),d=!1,g=0,y=0,p=100,m=null,S=[],k=function(){g+=1,y+=2*Math.sqrt(g/300+1),o("#aaa",0,420,e,420),i("#aaa",p-5-y,415,10,10);for(var t=100*Math.floor(y/100);t<=y+e;t+=100)o("#aaa",t-y,390,t-y,450),l("#aaa",t-y+5,450,((t-100)/100).toFixed(0)+" m","18px sans-serif");for(var a=0;a<4;a++){var n=(p+90*a)/180*Math.PI,k=(t=p+c*Math.cos(n)-f/2,420+c*Math.sin(n)-h/2);o("#aaa",p-y,420,t-y+f/2,k+h/2),i("#000",t-y,k,f,h)}var q=!1;for(a=0;a<S.length;a++){var I=S[a];s("#000",I.x-y-u/2,I.y-M/2,u,M);for(var T=0;T<4;T++){n=(p+90*T)/180*Math.PI,t=p+c*Math.cos(n)-f/2,k=420+c*Math.sin(n)-h/2;t<=I.x&&I.x<=t+f&&k<=I.y&&I.y<=k+h&&(q=!0)}if(q)break;I.x+u<y?S.splice(a--,1):I.x-=12*Math.sqrt(g/300+1)}if(q||p<y){var P=(p-100)/100;v<P&&(v=P,localStorage.setItem(x,v.toString())),d=!1,g=0,y=0,p=100,m=null,S=[]}var R="HIGH: "+v.toFixed(1)+" m";if(l("#444",e-16*R.length,r-24,R,"24px sans-serif"),!d)return l("#000",200,200,"LIFTRUN","64px sans-serif"),l("#000",200,300,"PRESS ← OR → KEY TO START","64px sans-serif"),p+=2*Math.sqrt(g/300+1),void(m&&(d=!0,g=0,y=0,p=100,S=[]));l("#444",12,r-24,((p-100)/100).toFixed(1)+" m","24px sans-serif"),"left"===m&&(p-=2*Math.sqrt(g/300+1)*2*(Math.pow(1.5,-g)+1)),"right"===m&&(p+=2*Math.sqrt(g/300+1)*2*(Math.pow(1.5,-g)+1)),p=Math.max(y,Math.min(y+e,p)),Math.random()<=.01+Math.sqrt(g/3e6)&&S.push({x:y+e,y:420-c+Math.random()*c*2-M/2})};a.addEventListener("keydown",function(t){"ArrowLeft"===t.key&&(m="left"),"ArrowRight"===t.key&&(m="right")}),a.addEventListener("keyup",function(){m=null}),setInterval(function(){n.clearRect(0,0,e,r),k()},1e3/30);
},{}]},{},["QCba"], null)
//# sourceMappingURL=/20210417-liftrun/20210417-liftrun.056994ce.js.map
parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QCba":[function(require,module,exports) {
"use strict";var t,e=document.querySelector("#app"),a=1280,r=720,n=e.getContext("2d"),o=function(t,e,a,r,o){n.strokeStyle=t,n.beginPath(),n.moveTo(e,a),n.lineTo(r,o),n.stroke()},i=function(t,e,a,r,o){n.strokeStyle=t,n.beginPath(),n.rect(e,a,r,o),n.stroke()},s=function(t,e,a,r,o){n.fillStyle=t,n.beginPath(),n.rect(e,a,r,o),n.fill()},l=function(t,e,a,r,o){n.font=o,n.fillStyle=t,n.fillText(r,e,a)},f=50,h=30,c=200,u=10,M=10,g="liftrun-highscore",v=+(null!==(t=localStorage.getItem(g))&&void 0!==t?t:0),x=!1,d=0,y=0,p=100,S=null,k=[],m=function(){d+=1,y+=2*Math.sqrt(d/300+1),o("#aaa",0,420,a,420),i("#aaa",p-5-y,415,10,10);for(var t=0;t<4;t++){var e=(p+90*t)/180*Math.PI,n=p+c*Math.cos(e)-f/2,m=420+c*Math.sin(e)-h/2;o("#aaa",p-y,420,n-y+f/2,m+h/2),i("#000",n-y,m,f,h)}var q=!1;for(t=0;t<k.length;t++){var I=k[t];s("#000",I.x-y,I.y,u,M);for(var T=0;T<4;T++){e=(p+90*T)/180*Math.PI,n=p+c*Math.cos(e)-f/2,m=420+c*Math.sin(e)-h/2;n<=I.x&&I.x<=n+f&&m<=I.y&&I.y<=m+h&&(q=!0)}if(q)break;I.x+u<y?k.splice(t--,1):I.x-=12*Math.sqrt(d/300+1)}if(q||p<y){var P=(p-100)/100;v<P&&(v=P,localStorage.setItem(g,v.toString())),x=!1,d=0,y=0,p=100,S=null,k=[]}var R="HIGH: "+v.toFixed(1)+" m";if(l("#444",a-16*R.length,r-24,R,"24px sans-serif"),!x)return l("#000",200,200,"LIFTRUN","64px sans-serif"),l("#000",200,300,"PRESS ← OR → KEY TO START","64px sans-serif"),p+=2*Math.sqrt(d/300+1),void(S&&(x=!0,d=0,y=0,p=100,k=[]));l("#444",12,r-24,((p-100)/100).toFixed(1)+" m","24px sans-serif"),"left"===S&&(p-=2*Math.sqrt(d/300+1)*2*(Math.pow(1.5,-d)+1)),"right"===S&&(p+=2*Math.sqrt(d/300+1)*2*(Math.pow(1.5,-d)+1)),Math.random()<=.01+Math.sqrt(d/3e6)&&k.push({x:y+a,y:420-c+Math.random()*c*2-M/2})};e.addEventListener("keydown",function(t){"ArrowLeft"===t.key&&(S="left"),"ArrowRight"===t.key&&(S="right")}),e.addEventListener("keyup",function(){S=null}),setInterval(function(){n.clearRect(0,0,a,r),m()},1e3/30);
},{}]},{},["QCba"], null)
//# sourceMappingURL=/20210417-liftrun/20210417-liftrun.c64c5d20.js.map
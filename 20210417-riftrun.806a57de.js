parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"QCba":[function(require,module,exports) {
"use strict";var t,e=document.querySelector("#app"),a=1280,r=720,n=e.getContext("2d"),o=function(t,e,a,r,o){n.strokeStyle=t,n.beginPath(),n.moveTo(e,a),n.lineTo(r,o),n.stroke()},i=function(t,e,a,r,o){n.strokeStyle=t,n.beginPath(),n.rect(e,a,r,o),n.stroke()},s=function(t,e,a,r,o){n.font=o,n.fillStyle=t,n.fillText(r,e,a)},l=50,h=30,f=200,c=10,u=10,M="riftrun-highscore",d=+(null!==(t=localStorage.getItem(M))&&void 0!==t?t:0),v=!1,x=0,g=0,y=100,p=null,S=[],k=function(){x+=1,g+=2*Math.sqrt(x/300+1),o("#aaa",0,420,a,420),i("#aaa",y-5-g,415,10,10);for(var t=0;t<4;t++){var e=(y+90*t)/180*Math.PI,n=y+f*Math.cos(e)-l/2,k=420+f*Math.sin(e)-h/2;o("#aaa",y-g,420,n-g+l/2,k+h/2),i("#000",n-g,k,l,h)}var m=!1;for(t=0;t<S.length;t++){var q=S[t];i("#d33",q.x-g,q.y,c,u);for(var I=0;I<4;I++){e=(y+90*I)/180*Math.PI,n=y+f*Math.cos(e)-l/2,k=420+f*Math.sin(e)-h/2;n<=q.x&&q.x<=n+l&&k<=q.y&&q.y<=k+h&&(m=!0)}if(m)break;q.x+c<g?S.splice(t--,1):q.x-=12*Math.sqrt(x/300+1)}if(m||y<g){var R=(y-100)/100;d<R&&(d=R,localStorage.setItem(M,d.toString())),v=!1,x=0,g=0,y=100,p=null,S=[]}var T="HIGH: "+d.toFixed(1)+" m";if(s("#444",a-16*T.length,r-24,T,"24px sans-serif"),!v)return s("#000",200,200,"RIFTRUN","64px sans-serif"),s("#000",200,300,"PRESS ← OR → KEY TO START","64px sans-serif"),y+=2*Math.sqrt(x/300+1),void(p&&(v=!0,x=0,g=0,y=100,S=[]));s("#444",12,r-24,((y-100)/100).toFixed(1)+" m","24px sans-serif"),"left"===p&&(y-=2*Math.sqrt(x/300+1)*2*(Math.pow(1.5,-x)+1)),"right"===p&&(y+=2*Math.sqrt(x/300+1)*2*(Math.pow(1.5,-x)+1)),Math.random()<=.01+Math.sqrt(x/3e6)&&S.push({x:g+a,y:420-f+Math.random()*f*2-u/2})};e.addEventListener("keydown",function(t){"ArrowLeft"===t.key&&(p="left"),"ArrowRight"===t.key&&(p="right")}),e.addEventListener("keyup",function(){p=null}),setInterval(function(){n.clearRect(0,0,a,r),k()},1e3/30);
},{}]},{},["QCba"], null)
//# sourceMappingURL=/20210417-riftrun/20210417-riftrun.806a57de.js.map